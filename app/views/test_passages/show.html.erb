<div class="card">
  <div class="card-header">
    <h1> <%= t('.header', test: @test_passage.test.title) %></h1>
  </div>
  <%= content_tag(:div,
                  content_tag(:div, "#{@test_passage.test_completed_percent}%", class: 'text-center'),
                  class: 'progress-bar-js',
                  data: { percent: @test_passage.test_completed_percent }
      ) %>
  <div class="card-body">
    <p class="lead">
      <%= t('.question_order', current: @test_passage.current_question_index, total: @test_passage.total_questions_in_test) %>
    </p>
    <p>
      <%= @test_passage.current_question.body %>
    </p>
    <%= form_with url: test_passage_path(@test_passage), local: true, method: :put do |form| %>
      <%= form.collection_check_boxes :answer_ids, @test_passage.current_question.answers, :id, :body, include_hidden: false do |b| %>
        <p>
          <%= b.check_box id: "answer_ids_#{b.object.id}" %>
          <%= b.label %>
        </p>
      <% end %>
      <p><%= link_to t('.gist_question'), test_passage_gist_path(@test_passage), method: :post, class: 'btn btn-sm btn-outline-info' %></p>
      <p><%= form.submit t('helpers.buttons.next'), class: 'btn btn-sm btn-success' %></p>
    <% end %>
  </div>
</div>
